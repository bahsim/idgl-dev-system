# Запись о Генерации

## Определение

**Запись о Генерации** представляет собой отдельную, высокоуровневую стратегию или подход к решению **Генеративной Задачи**. Это практическая реализация основного философского принципа **«Сохранение Состояния для Преодоления Ограничений Контекста»** из документа `00-idgl-philosophy.md`. Она служит контейнером для модификации и уточнения до тех пор, пока стратегия не будет либо доведена до совершенства, либо оставлена.

Фреймворк IDGL определяет две петли обратной связи, которые определяют, как обрабатываются записи, что напрямую соответствует процессам, определенным в `03-the-artifact-lifecycle.md`:

1.  **Процесс Модификации:** Когда проверка выявляет незначительные расхождения, практик входит в цикл уточнений. Это включает в себя внесение корректировок в артефакт для *текущей стратегии*. Эти модификации происходят **в рамках существующей Записи о Генерации**, обновляя ее состояние.

2.  **Процесс Генерации:** Когда артефакт коренным образом не соответствует цели, практик отказывается от текущей стратегии и инициирует новый Процесс Генерации. Это действие **создает новую Запись о Генерации** для размещения нового стратегического подхода.

## Структура Записи

Каждая запись содержит развивающееся состояние одного стратегического подхода:

1.  **Руководящая Стратегия:** Основной замысел, определяющий этот подход.
2.  **Активный Артефакт:** Окончательная версия артефакта для этой стратегии, идентичная последнему артефакту в Истории Уточнений.
3.  **История Уточнений:** Подробный журнал внутренних циклов уточнений. Каждая запись представляет собой полный снимок, содержащий:
    *   **Замысел Уточнения:** Конкретный промпт, использованный для модификации артефакта.
    *   **Заметка о Валидации:** Результат валидации для этой конкретной версии артефакта.
4.  **Итоговое Заключение по Валидации:** Окончательная оценка этого подхода после завершения цикла уточнений.

## Пример Сценария: Разделение Модификации и Повторного Промптинга

**Генеративная Задача:** "Создать визуально привлекательную и производительную галерею изображений."

*   **Запись о Генерации 1 (Стратегия: Ленивая Загрузка)**
    *   **Руководящая Стратегия:** "Создать галерею с использованием простого подхода ленивой загрузки."
    *   **История Уточнений (в рамках Записи 1):**
        *   **Цикл 1:**
            *   **Замысел Уточнения:** "Добавить анимацию появления по мере загрузки изображений."
            *   **Заметка о Валидации:** "Анимация работает."
        *   **Цикл 2:**
            *   **Замысел Уточнения:** "Сделать плейсхолдер размытой версией оригинального изображения."
            *   **Заметка о Валидации:** "Эффект размытия добавлен и проверен."
    *   **Активный Артефакт:** Окончательный, полный код для галереи с ленивой загрузкой, включая все уточнения.
    *   **Итоговое Заключение по Валидации:** "Этот подход слишком прост и не может эффективно обрабатывать тысячи изображений. Нужна новая стратегия."

*   **Запись о Генерации 2 (Стратегия: Виртуализация - Новая Запись, Созданная через Повторный Промптинг)**
    *   **Руководящая Стратегия:** (Сформирована после отказа от Записи 1) "Создать новую галерею с нуля, используя высокопроизводительную библиотеку виртуализации."
    *   **Внутренний Цикл Уточнений (Модификация Записи 2):**
        1.  Создан первоначальный артефакт.
        2.  Проверка выявила ошибку с полосой прокрутки. Внесено уточнение.
    *   **Активный Артефакт:** Код для галереи на основе виртуализации с исправленной ошибкой.
    *   **Итоговое Заключение по Валидации:** "Успех. Эта стратегия производительна и корректна."
