# Анатомия спецификации: исполняемый контракт архитектора

Архитектор не кодирует; он составляет `Спецификацию`. Это самый важный артефакт в IDGL, поскольку это основной инструмент контроля над ИИ. Это не «документация» в традиционном смысле; это **исполняемый контракт**, который служит чертежом для генерации. Более того, это **дисциплина, заставляющая прояснять мысли** — навык, необходимый как для общения с человеком, так и с ИИ.

Качество `Спецификации` — самый главный предиктор качества конечного результата. Расплывчатый контракт приведет к хаотичному результату. Точный контракт приведет к предсказуемому.

Этот документ определяет анатомию этого контракта.

---

## Три столпа профессионального контракта

Профессиональная `Спецификация` предназначена для двух аудиторий: **ИИ**, который должен сгенерировать артефакт, и **человека-архитектора**, который должен его проверить. Она достигает этого, опираясь на три столпа, которые переводят стратегическое намерение в однозначный, проверяемый план.

### 1. Цель: определение «что»
Контракт должен начинаться с четкого, явного и краткого изложения основной цели. Это ясная директива архитектора.

> **Пример:**
>
> Создать переиспользуемый React-хук с именем `useDebounce`, который принимает значение и время задержки и возвращает отложенное значение.

### 2. Обоснование: объяснение «почему»
Контракт должен предоставлять необходимый контекст и ограничения. В этом разделе архитектор устанавливает персону ИИ и определяет не подлежащие обсуждению границы работы.

*   **Бизнес-обоснование:** Ценность для пользователя, которая оправдывает задачу.
*   **Технические ограничения:** Требуемые библиотеки, фреймворки, стандарты кодирования или архитектурные паттерны.

> **Пример:**
>
> Хук будет использоваться в поисковой строке нашего приложения для предотвращения чрезмерных запросов к API во время набора текста пользователем. Он должен быть написан на TypeScript, использовать современные паттерны функциональных компонентов и не должен полагаться на какие-либо внешние библиотеки для логики задержки.

### 3. Критерии проверки: указание «доказательства»
Это самый важный столп. Именно он делает `Спецификацию` **исполняемым контрактом**, а не полной надежд просьбой. Критерии должны представлять собой четкий, проверяемый чеклист, который точно определяет, как выглядит «успешный» результат. Это доказательство, которое должен предоставить ИИ.

> **Пример:**
>
> *   Хук должен принимать обобщенное `value` типа `T` и `delay` в миллисекундах.
> *   Он должен возвращать значение типа `T`.
> *   Возвращаемое значение должно обновляться только после того, как `delay` истечет без изменения входного `value`.
> *   При первоначальном рендеринге возвращаемое значение должно быть равно начальному входному значению.
> *   Если компонент размонтируется, все ожидающие отложенные обновления должны быть отменены.

---

## Принцип обогащения: от расплывчатого к проверяемому

Основная дисциплина архитектора — **обогащение**: практика предоставления такого уровня детализации в `Критериях проверки`, который не оставляет места для двусмысленности. Это самый прямой способ контролировать вывод ИИ и гарантировать последовательный, надежный результат.

**Больше деталей — больше контроля.**

Обогащенная спецификация заставляет архитектора продумать полное поведение желаемого артефакта, включая крайние случаи и условия ошибок, *до* начала генерации. В этом суть перехода от реактивной отладки к проактивному проектированию.

---

## Антипаттерны спецификаций: расплывчатые запросы игрока

Высококачественная `Спецификация` — это не только обеспечение ясности, но и избегание двусмысленности. Ниже приведены отличительные черты `Спецификации` игрока, которые нарушают основные принципы архитектора.

*   **Расплывчатость:** «Сделай кнопку». (Отсутствует контекст, ограничения и критерии.)
*   **Составные цели:** «Создай хук `useDebounce` и проведи рефакторинг страницы профиля пользователя». (Контракт должен иметь одну, четкую цель. Это должны быть два отдельных контракта.)
*   **Подразумеваемые знания:** «Реализуй стандартную логику debounce». (Не указано доказательство. Ожидаемая логика должна быть явно определена в критериях.)
