# Паттерн: Запись о Генерации

## 1. Суть Паттерна
Работа Архитектора должна быть прозрачной, проверяемой и воспроизводимой. **Запись о Генерации** — это паттерн, который это обеспечивает. Это официальный, верифицируемый «бортовой самописец» для одного стратегического подхода к генеративной задаче.

Этот паттерн является практической реализацией основного принципа: **сохранять всё**. Он превращает эфемерный диалог с ИИ в долговечный, проверяемый инженерный артефакт.

## 2. Что Содержит Запись
Каждая запись представляет собой самодостаточную историю одного стратегического подхода:

1.  **`Спецификация`:** Контракт, определяющий цель для этой конкретной стратегии.
2.  **Финальный `Артефакт`:** Окончательная, проверенная версия артефакта, сгенерированного в рамках этой стратегии.
3.  **История Уточнений:** Подробный журнал циклов модификации в рамках этой стратегии, включая использованные промпты и результаты проверок.
4.  **Окончательный Вердикт:** Заключительная оценка того, был ли этот стратегический подход успешным или неудачным.

## 3. Как Используются Записи
Архитектор использует записи для управления двумя ключевыми сценариями:

1.  **Уточнение (Модификация Записи):** Когда проверка выявляет незначительную проблему, Архитектор входит в цикл уточнений. Все изменения, промпты и заметки о проверке из этого цикла добавляются к **текущей `Записи о Генерации`**.

2.  **Новая Стратегия (Создание Новой Записи):** Когда подход оказывается принципиально ошибочным, Архитектор отказывается от него. Он закрывает текущую запись с вердиктом «неудачно» и создает **новую, отдельную `Запись о Генерации`** для нового стратегического подхода.

Эта дисциплина гарантирует, что каждая опробованная стратегия — как успешная, так и неудачная — документируется, предоставляя бесценную историю эволюции проекта.

## 4. Пример в Действии
**Генеративная Задача:** «Создать производительную галерею изображений».

*   **Запись о Генерации 1 (Стратегия: Ленивая Загрузка)**
    *   **Спецификация:** «Создать галерею, используя простой подход с ленивой загрузкой».
    *   **История Уточнений (внутри Записи 1):**
        *   Цикл 1: «Добавить анимацию появления». (Успех)
        *   Цикл 2: «Сделать плейсхолдер размытой версией оригинального изображения». (Успех)
    *   **Окончательный Вердикт:** «Неудача. Этот подход слишком прост и не может эффективно обрабатывать тысячи изображений. Нужна новая стратегия».

*   **Запись о Генерации 2 (Стратегия: Виртуализация)**
    *   **Спецификация:** «Создать новую галерею с нуля, используя высокопроизводительную библиотеку виртуализации».
    *   **История Уточнений (внутри Записи 2):**
        *   Цикл 1: Создан первоначальный артефакт.
        *   Цикл 2: Обнаружена и исправлена ошибка с полосой прокрутки через уточнение.
    *   **Окончательный Вердикт:** «Успех. Эта стратегия производительна и корректна».
